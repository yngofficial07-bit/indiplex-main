<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IndiPlex | Series & Movies</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --brand: #e50914; --bg: #050505; --card: #121212; --text: #ffffff; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; }
        nav { padding: 15px 5%; background: #000; border-bottom: 2px solid var(--brand); display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        .logo { color: var(--brand); font-size: 26px; font-weight: 900; text-decoration: none; }
        .container { padding: 20px 5%; display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 20px; }
        .item-card { background: var(--card); border-radius: 10px; overflow: hidden; cursor: pointer; border: 1px solid #222; }
        .item-card img { width: 100%; height: 230px; object-fit: cover; }
        .item-card h3 { font-size: 14px; padding: 10px; margin: 0; text-align: center; }
        #details-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.98); display: none; z-index: 2000; overflow-y: auto; padding: 40px 5%; }
        .details-header { display: flex; gap: 30px; flex-wrap: wrap; margin-bottom: 30px; }
        .details-header img { width: 200px; border-radius: 10px; }
        .close-btn { position: fixed; top: 20px; right: 20px; font-size: 30px; cursor: pointer; color: var(--brand); background: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .season-container { background: #111; border-radius: 10px; padding: 20px; margin-bottom: 20px; border-left: 4px solid var(--brand); }
        .episode-btn { display: block; padding: 12px; background: #222; margin: 8px 0; color: white; text-decoration: none; border-radius: 5px; }
        #video-player-container { position: fixed; inset: 0; background: #000; display: none; z-index: 3000; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

<nav><a href="#" class="logo">INDIPLEX</a></nav>

<div class="container" id="main-grid"></div>

<div id="details-overlay">
    <div class="close-btn" onclick="closeDetails()">&times;</div>
    <div id="details-body"></div>
</div>

<div id="video-player-container">
    <div style="position:absolute; top:20px; left:20px; z-index:3100; background:red; padding:10px; cursor:pointer;" onclick="closePlayer()">BACK</div>
    <iframe id="main-iframe" allowfullscreen></iframe>
</div>

<script src="series/mirzapur.js"></script>
<script src="series/moneyheist.js"></script>

    
<script>
    // STEP B: ADD VARIABLE NAMES HERE
   // Sirf ye ek block rakhein
const database = [
    mirzapurData,
    moneyHeistData
];

    const grid = document.getElementById('main-grid');

    function displayContent(items) {
        grid.innerHTML = '';
        items.forEach(item => {
            const card = document.createElement('div');
            card.className = 'item-card';
            card.innerHTML = `<img src="${item.poster}"><h3>${item.title}</h3>`;
            card.onclick = () => openDetails(item);
            grid.appendChild(card);
        });
    }

    function openDetails(item) {
        let seasonHTML = '';
        item.seasons.forEach(s => {
            seasonHTML += `<div class="season-container"><h3>${s.name}</h3>`;
            s.episodes.forEach(ep => {
                seasonHTML += `<a href="javascript:void(0)" class="episode-btn" onclick="playVideo('${ep.link}')">${ep.title}</a>`;
            });
            seasonHTML += `</div>`;
        });

        document.getElementById('details-body').innerHTML = `
            <div class="details-header">
                <img src="${item.poster}">
                <div><h1>${item.title}</h1><p>${item.description}</p></div>
            </div>
            ${seasonHTML}
        `;
        document.getElementById('details-overlay').style.display = 'block';
    }

    function playVideo(url) {
        document.getElementById('main-iframe').src = url;
        document.getElementById('video-player-container').style.display = 'block';
    }

    function closeDetails() { document.getElementById('details-overlay').style.display = 'none'; }
    function closePlayer() { document.getElementById('video-player-container').style.display = 'none'; document.getElementById('main-iframe').src = ''; }
    
    window.onload = () => displayContent(database);
</script>
</body>
</html>
