<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>IndiPlex | Watch Latest Bollywood & South Movies Online</title>
    <meta name="description" content="IndiPlex par dekhiye latest Bollywood, South Indian movies aur Web Series bilkul free. Fast streaming and premium quality.">
    <meta name="keywords" content="IndiPlex, Bollywood Movies, South Indian Movies, Hindi Dubbed, Free Streaming">
    <meta name="author" content="IndiPlex Team">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --brand: #e50914; --bg: #050505; --card: #121212; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', Roboto, sans-serif; margin: 0; overflow-x: hidden; }
        
        /* NAVIGATION */
        nav { padding: 15px 5%; background: rgba(0,0,0,0.95); display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--brand); position: sticky; top: 0; z-index: 100; }
        .logo { color: var(--brand); font-size: 28px; font-weight: 900; letter-spacing: 1px; text-transform: uppercase; text-decoration: none; }
        
        /* SEARCH BAR */
        .search-container { padding: 20px 5%; text-align: center; }
        #movieSearch { width: 100%; max-width: 500px; padding: 12px 20px; border-radius: 25px; border: none; background: #222; color: white; outline: none; font-size: 16px; border: 1px solid #333; }
        #movieSearch:focus { border-color: var(--brand); }

        /* MOVIE GRID */
        .container { padding: 10px 5%; display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 20px; }
        .movie-card { background: var(--card); border-radius: 10px; overflow: hidden; transition: 0.3s; cursor: pointer; border: 1px solid #222; }
        .movie-card:hover { transform: translateY(-5px); border-color: var(--brand); box-shadow: 0 5px 15px rgba(229, 9, 20, 0.3); }
        .movie-card img { width: 100%; height: 240px; object-fit: cover; }
        .movie-card h3 { font-size: 14px; padding: 12px; margin: 0; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* PLAYER POPUP */
        #player { position: fixed; inset: 0; background: #000; display: none; z-index: 2000; }
        #close-btn { position: absolute; top: 20px; right: 20px; color: white; font-size: 35px; cursor: pointer; background: rgba(229, 9, 20, 0.8); width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; border-radius: 50%; z-index: 2100; }
        iframe { width: 100%; height: 100%; border: none; }
        
        @media (max-width: 600px) {
            .container { grid-template-columns: repeat(2, 1fr); gap: 10px; padding: 10px; }
            .movie-card img { height: 200px; }
        }
    </style>
</head>
<body>

<nav><a href="#" class="logo">IndiPlex</a><i class="fa-solid fa-magnifying-glass"></i></nav>

<div class="search-container">
    <input type="text" id="movieSearch" placeholder="Search Bollywood, South, Web Series..." onkeyup="searchMovies()">
</div>

<div class="container" id="movie-grid">
    </div>

<div id="player">
    <div id="close-btn" onclick="closePlayer()">&times;</div>
    <iframe id="vid-frame" allowfullscreen allow="autoplay"></iframe>
</div>

<script src="movies.js"></script>

<script>
    const grid = document.getElementById('movie-grid');

    function displayMovies(moviesList) {
        grid.innerHTML = '';
        if(moviesList.length === 0) {
            grid.innerHTML = '<p style="text-align:center; width:100%; grid-column: 1/-1;">No movies found. Try searching something else!</p>';
            return;
        }
        moviesList.forEach(movie => {
            const card = document.createElement('div');
            card.className = 'movie-card';
            card.innerHTML = `<img src="${movie.poster}" alt="${movie.title}"><h3>${movie.title}</h3>`;
            card.onclick = () => playMovie(movie.link);
            grid.appendChild(card);
        });
    }

    function searchMovies() {
        let input = document.getElementById('movieSearch').value.toLowerCase();
        let filtered = myMovies.filter(m => m.title.toLowerCase().includes(input));
        displayMovies(filtered);
    }

    function playMovie(url) {
        if(!url || url === "PASTE_LINK_HERE") {
            alert("Bhai, is movie ka link abhi update nahi hua hai!");
            return;
        }
        document.getElementById('vid-frame').src = url;
        document.getElementById('player').style.display = 'block';
        document.body.style.overflow = 'hidden'; // Stop scrolling background
    }

    function closePlayer() {
        document.getElementById('player').style.display = 'none';
        document.getElementById('vid-frame').src = '';
        document.body.style.overflow = 'auto'; // Enable scrolling
    }

    // Load movies on start
    window.onload = () => {
        if(typeof myMovies !== 'undefined') {
            displayMovies(myMovies);
        } else {
            grid.innerHTML = '<p style="text-align:center; width:100%; grid-column: 1/-1;">Error: movies.js file not found!</p>';
        }
    }
</script>
</body>
</html>
